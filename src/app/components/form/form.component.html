<div class="surface-card p-4 shadow-2 border-round w-full my-4 m-auto lg:w-5">
  <form
    [formGroup]="form"
    (ngSubmit)="submit()"
  >
    <div class="grid justify-content-between">
      <div class="col-5">
        <div class="field">
          <!-- TODO: строковые константы в файл. В ангуляре есть механизм интернационализации для шаблонов, лучше туда. -->
          <label for="name">Название задачи</label>
          <input
            aria-describedby="name-help"
            class="w-full"
            id="name"
            type="text"
            pInputText
            formControlName="name"
            [ngClass]="{'ng-invalid ng-dirty': form.get('name')?.invalid && form.get('name')?.touched}"
          />
          <small
            id="name-help"
            class="p-error"
            *ngIf="form.get('name')?.invalid && form.get('name')?.touched"
          >
            <small *ngIf="form.get('name')?.errors?.['required']">Обязательное поле</small>
          </small>
        </div>
      </div>
      <div class="col-5">
        <div class="field">
          <label for="description">Описание задачи</label>
          <input
            aria-describedby="description-help"
            class="w-full"
            id="description"
            type="text"
            pInputText
            formControlName="description"
            [ngClass]="{'ng-invalid ng-dirty': form.get('description')?.invalid && form.get('description')?.touched}"
          />
          <small
            id="description-help"
            class="p-error"
            *ngIf="form.get('description')?.invalid && form.get('description')?.touched"
          >
            <small *ngIf="form.get('description')?.errors?.['required']">Обязательное поле</small>
          </small>
        </div>
      </div>
      <div class="col-5">
        <div class="field">
          <label for="category">Категория задачи</label>
          <input
            aria-describedby="category-help"
            class="w-full"
            id="category"
            type="text"
            pInputText
            formControlName="category"
            [ngClass]="{'ng-invalid ng-dirty': form.get('category')?.invalid && form.get('category')?.touched}"
          />
          <small
            id="category-help"
            class="p-error"
            *ngIf="form.get('category')?.invalid && form.get('category')?.touched"
          >
            <small *ngIf="form.get('category')?.errors?.['required']">Обязательное поле</small>
          </small>
        </div>
      </div>
      <div class="col-5">
        <div class="field">
          <label for="deadline">Срок задачи</label>
          <p-calendar
            class="w-full"
            dateFormat="dd.mm.yy"
            formControlName="deadline"
            [showIcon]="true"
            dataType="string"
            id="deadline"
            aria-describedby="deadline-help"
            [ngClass]="{'ng-invalid ng-dirty': form.get('deadline')?.invalid && form.get('deadline')?.touched}"
          ></p-calendar>
          <small
            id="deadline-help"
            class="p-error"
            *ngIf="form.get('deadline')?.invalid && form.get('deadline')?.touched"
          >
            <small *ngIf="form.get('deadline')?.errors?.['required']">Обязательное поле</small>
          </small>
        </div>
      </div>
      <div class="col-5">
        <div class="field">
          <label for="priority">Приоритет задачи</label>
          <p-dropdown
            [style]="{'width':'100%'}"
            formControlName="priority"
            [options]="priority"
            [showClear]="true"
            optionLabel="name"
            placeholder="Выбрать приоритет"
            id="priority"
            aria-describedby="priority-help"
            [ngClass]="{'ng-invalid ng-dirty': form.get('priority')?.invalid && form.get('priority')?.touched}"
          ></p-dropdown>
          <small
            id="priority-help"
            class="p-error"
            *ngIf="form.get('priority')?.invalid && form.get('priority')?.touched"
          >
            <small *ngIf="form.get('priority')?.errors?.['required']">Обязательное поле</small>
          </small>
        </div>
      </div>
    </div>
    <p-button
      type="submit"
      label="Submit"
      [disabled]="form.invalid"
    ></p-button>
  </form>
</div>